---
title: "Photo Album"
permalink: /photo.html
---

{% include head.html %}

<body id="page-top" class="photo-page">
  <section id="photos" class="content-section bg-light">
    <div class="container">
      <div class="photo-grid" aria-live="polite">
        <div class="grid-sizer"></div>
        {%- assign items = site.data.photos | default: empty -%}
        {%- for p in items -%}
          {%- assign base = p.base -%}
          {%- assign caption = p.caption | default: '' -%}
          {%- assign thumb800  = p.thumb800  | default: base | replace: '.jpg','_800.jpg'  | replace: '.jpeg','_800.jpeg' | replace: '.png','_800.png' -%}
          {%- assign thumb1200 = p.thumb1200 | default: base | replace: '.jpg','_1200.jpg' | replace: '.jpeg','_1200.jpeg'| replace: '.png','_1200.png' -%}

          <div class="photo-item"
               tabindex="0"
               role="button"
               aria-label="Open photo"
               data-full="{{ base | relative_url }}"
               data-caption="{{ caption | escape }}">
            <img class="photo-img"
                 loading="lazy"
                 decoding="async"
                 fetchpriority="low"
                 src="{{ thumb800   | relative_url }}"
                 srcset="{{ thumb800 | relative_url }} 800w, {{ thumb1200 | relative_url }} 1200w"
                 sizes="(min-width: 992px) 31vw, (min-width: 576px) 48vw, 100vw"
                 alt="{{ caption | default: 'Family Photo' | escape }}">
          </div>
        {%- endfor -%}
      </div>
    </div>
  </section>

  <!-- Bootstrap default-centered modal (no custom positioning) -->
  <div class="modal fade" id="photoModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content no-header">
        <div class="modal-body d-flex align-items-center justify-content-center p-0">
          <figure class="modal-figure m-0">
            <img class="modal-img" src="" alt="Enlarged Photo">
            <figcaption class="modal-caption"></figcaption>
          </figure>
        </div>
      </div>
    </div>
  </div>

  {% include scripts.html %}

  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@4.1.4/imagesloaded.pkgd.min.js"></script>

  <style>
    /* Hide any global navbar on this page */
    body.photo-page .navbar,
    body.photo-page nav.navbar,
    body.photo-page header.navbar,
    body.photo-page .site-nav { display: none !important; }

    body.photo-page {
      --warm-bg1:#fff7f0; --warm-bg2:#ffe9d6;
      --text-strong:#3b2a22;
      background: linear-gradient(180deg, var(--warm-bg1), var(--warm-bg2));
      color: var(--text-strong);
    }

    .photo-grid { margin: 0 auto; overflow: hidden; }
    /* Exact column widths accounting for Masonry gutter (12px) */
    .grid-sizer, .photo-item { width: calc((100% - 24px) / 3); } /* 3 cols, 2 gutters */
    @media (max-width: 992px) { .grid-sizer, .photo-item { width: calc((100% - 12px) / 2); } } /* 2 cols, 1 gutter */
    @media (max-width: 576px) { .grid-sizer, .photo-item { width: 100%; } } /* 1 col */

    /* Square tiles; no background/shadow; no hover zoom/clip */
    .photo-item {
      aspect-ratio: 1 / 1;
      margin-bottom: 12px;
      border-radius: 16px;
      overflow: hidden;
      background: transparent;
      box-shadow: none;
      position: relative;
      cursor: zoom-in;
      box-sizing: border-box;
      transform: translateZ(0);
    }

    /* Lightweight skeleton loader */
    .photo-item::before {
      content: "";
      position: absolute; inset: 0;
      background: linear-gradient(90deg, rgba(255,255,255,0.15), rgba(255,255,255,0.35), rgba(255,255,255,0.15));
      background-size: 200% 100%;
      animation: shimmer 1.2s infinite;
    }
    @keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

    .photo-item img.photo-img {
      width: 100%; height: 100%;
      object-fit: cover; display: block;
      opacity: 0; transition: opacity .25s ease;
      transform: none !important; animation: none !important;
      will-change: opacity;
    }
    .photo-item.is-loaded::before { display: none; }
    .photo-item.is-loaded img.photo-img { opacity: 1; }

    /* Pure content, no borders/backgrounds for modal */
    #photoModal .modal-content.no-header {
      background: transparent; box-shadow: none; border: 0; border-radius: 0;
      max-height: 100vh; display: flex; flex-direction: column; align-items: center;
    }
    #photoModal .modal-body { padding: 0; overflow: hidden; width: 100%; height: 100%; }
    #photoModal .modal-figure { position: relative; max-width: 100%; max-height: 100%; }
    #photoModal .modal-img { display: block; max-width: 100%; height: auto; }

    /* Caption (minimal) */
    #photoModal .modal-caption {
      position:absolute; left:0; right:0; bottom:0;
      padding:.55rem .85rem; color:#fff;
      background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.45) 80%);
      font-size:1rem; line-height:1.35; letter-spacing:.1px;
      max-height:30%; overflow:hidden; text-overflow:ellipsis;
    }

    /* Subtle open/close animation retained (not position-related) */
    #photoModal .modal-content { opacity:0; transform:scale(.98); transition:opacity .18s ease, transform .18s ease; }
    #photoModal.show .modal-content { opacity:1; transform:scale(1); }
    @media (prefers-reduced-motion: reduce) {
      #photoModal .modal-content { transition:none; transform:none; opacity:1; }
    }
  </style>

  <script>
    (function($){
      $(function () {
        var $grid = $('.photo-grid');

        /* Masonry with precise column sizing (no horizontal overflow) */
        $grid.imagesLoaded(function () {
          $grid.masonry({
            itemSelector: '.photo-item',
            columnWidth: '.grid-sizer',
            gutter: 12,
            percentPosition: true
          });
        });

        /* Tile loading: skeleton -> fade-in, error fallback */
        document.querySelectorAll('.photo-item img.photo-img').forEach(function(img){
          var item = img.closest('.photo-item');
          function markLoaded(){ item && item.classList.add('is-loaded'); }
          if (img.complete && img.naturalWidth) { markLoaded(); }
          else { img.addEventListener('load', markLoaded, { once:true }); }
          img.addEventListener('error', function(){
            var fallback = item.getAttribute('data-full');
            if (img.src !== fallback) { img.removeAttribute('srcset'); img.removeAttribute('sizes'); img.src = fallback; }
            else { markLoaded(); }
          }, { once:true });
        });

        /* Modal logic (default Bootstrap behavior; no custom positioning) */
        var $modal = $('#photoModal');
        var $modalImg = $modal.find('.modal-img');
        var $modalCaption = $modal.find('.modal-caption');

        $grid.on('click keydown', '.photo-item', function (e) {
          if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') return;
          $modalImg.attr('src', this.dataset.full);
          $modalCaption.text(this.dataset.caption || '');
          if (typeof $modal.modal === 'function') { $modal.modal('show'); }
          else { $modal.addClass('show').css('display','block'); }
        });

        $modal.on('click', '.modal-content, .modal-img', function(){
          if (typeof $modal.modal === 'function') { $modal.modal('hide'); }
          else { $modal.removeClass('show').css('display','none'); }
        });
      });
    })(jQuery);
  </script>
</body>
</html>
